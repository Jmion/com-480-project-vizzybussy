$(document).ready(function(){AOS.init({disable:"mobile"})}),function(t){"use strict";t('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=t(this.hash);if((n=n.length?n:t("[name="+this.hash.slice(1)+"]")).length)return t("html, body").animate({scrollTop:n.offset().top-57},1e3,"easeInOutExpo"),!1}}),t(".js-scroll-trigger").click(function(){t(".navbar-collapse").collapse("hide")}),t("body").scrollspy({target:"#mainNav",offset:57});var n=function(){t("#mainNav").offset().top>100?t("#mainNav").addClass("navbar-shrink"):t("#mainNav").removeClass("navbar-shrink")};n(),t(window).scroll(n),t(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}})}(jQuery),function(){Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){try{var t=CSSStyleDeclaration.prototype,n=t.setProperty;t.setProperty=function(t,e,r){n.call(this,t,e+"",r)}}catch(t){}}d3={version:"2.2.0"};var e=[].__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};function r(){return this}function a(t){return t.length}function i(t){return null==t}function o(t){return t.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.rebind=function(t,n){return function(){var e=n.apply(t,arguments);return arguments.length?t:e}},d3.ascending=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},d3.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d3.min=function(t,n){var e,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&(null==(e=t[a])||e!=e);)e=void 0;for(;++a<i;)null!=(r=t[a])&&e>r&&(e=r)}else{for(;++a<i&&(null==(e=n.call(t,t[a],a))||e!=e);)e=void 0;for(;++a<i;)null!=(r=n.call(t,t[a],a))&&e>r&&(e=r)}return e},d3.max=function(t,n){var e,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&(null==(e=t[a])||e!=e);)e=void 0;for(;++a<i;)null!=(r=t[a])&&r>e&&(e=r)}else{for(;++a<i&&(null==(e=n.call(t,t[a],a))||e!=e);)e=void 0;for(;++a<i;)null!=(r=n.call(t,t[a],a))&&r>e&&(e=r)}return e},d3.sum=function(t,n){var e,r=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)isNaN(e=+t[i])||(r+=e);else for(;++i<a;)isNaN(e=+n.call(t,t[i],i))||(r+=e);return r},d3.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),a=t[r-1],i=e-r;return i?a+i*(t[r]-a):a},d3.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=d3.min(arguments,a),e=new Array(n);++t<n;)for(var r,i=-1,o=e[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return e},d3.bisectLeft=function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var a=e+r>>1;t[a]<n?e=a+1:r=a}return e},d3.bisect=d3.bisectRight=function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var a=e+r>>1;n<t[a]?r=a:e=a+1}return e},d3.first=function(t,n){var e,r=0,a=t.length,i=t[0];for(1===arguments.length&&(n=d3.ascending);++r<a;)n.call(t,i,e=t[r])>0&&(i=e);return i},d3.last=function(t,n){var e,r=0,a=t.length,i=t[0];for(1===arguments.length&&(n=d3.ascending);++r<a;)n.call(t,i,e=t[r])<=0&&(i=e);return i},d3.nest=function(){var t,n,e={},r=[],a=[];function i(a,o){if(o>=r.length)return n?n.call(e,a):t?a.sort(t):a;for(var u,l,c=-1,f=a.length,s=r[o++],h={};++c<f;)(u=s(l=a[c]))in h?h[u].push(l):h[u]=[l];for(u in h)h[u]=i(h[u],o);return h}return e.map=function(t){return i(t,0)},e.entries=function(t){return function t(n,e){if(e>=r.length)return n;var i,o=[],u=a[e++];for(i in n)o.push({key:i,values:t(n[i],e)});return u&&o.sort(function(t,n){return u(t.key,n.key)}),o}(i(t,0),0)},e.key=function(t){return r.push(t),e},e.sortKeys=function(t){return a[r.length-1]=t,e},e.sortValues=function(n){return t=n,e},e.rollup=function(t){return n=t,e},e},d3.keys=function(t){var n=[];for(var e in t)n.push(e);return n},d3.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},d3.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},d3.permute=function(t,n){for(var e=[],r=-1,a=n.length;++r<a;)e[r]=t[n[r]];return e},d3.merge=function(t){return Array.prototype.concat.apply([],t)},d3.split=function(t,n){var e,r=[],a=[],o=-1,u=t.length;for(arguments.length<2&&(n=i);++o<u;)n.call(a,e=t[o],o)?a=[]:(a.length||r.push(a),a.push(e));return r},d3.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,a=[],i=-1;if(e<0)for(;(r=t+e*++i)>n;)a.push(r);else for(;(r=t+e*++i)<n;)a.push(r);return a},d3.requote=function(t){return t.replace(u,"\\$&")};var u=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function l(t){var n={},e=[];return n.add=function(t){for(var r=0;r<e.length;r++)if(e[r].listener==t)return n;return e.push({listener:t,on:!0}),n},n.remove=function(t){for(var r=0;r<e.length;r++){var a=e[r];if(a.listener==t){a.on=!1,e=e.slice(0,r).concat(e.slice(r+1));break}}return n},n.dispatch=function(){for(var t=e,n=0,r=t.length;n<r;n++){var a=t[n];a.on&&a.listener.apply(this,arguments)}},n}d3.round=function(t,n){return n?Math.round(t*Math.pow(10,n))*Math.pow(10,-n):Math.round(t)},d3.xhr=function(t,n,e){try{var r=new XMLHttpRequest;arguments.length<3?e=n:n&&r.overrideMimeType&&r.overrideMimeType(n),r.open("GET",t,!0),r.onreadystatechange=function(){4===r.readyState&&e(r.status<300?r:null)},r.send(null)}catch(r){$.ajax({url:t,contentType:n,success:function(t,n,r){e(r.status<300?r:null)}})}},d3.text=function(t,n,e){arguments.length<3&&(e=n,n=null),d3.xhr(t,n,function(t){e(t&&t.responseText)})},d3.json=function(t,n){d3.text(t,"application/json",function(t){n(t?JSON.parse(t):null)})},d3.html=function(t,n){d3.text(t,"text/html",function(t){if(null!=t){var e=document.createRange();e.selectNode(document.body),t=e.createContextualFragment(t)}n(t)})},d3.xml=function(t,n,e){arguments.length<3&&(e=n,n=null),d3.xhr(t,n,function(t){e(t&&t.responseXML)})},d3.ns={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qualify:function(t){var n=t.indexOf(":");return n<0?t:{space:d3.ns.prefix[t.substring(0,n)],local:t.substring(n+1)}}},d3.dispatch=function(t){for(var n,e={},r=0,a=arguments.length;r<a;r++)e[n=arguments[r]]=l(n);return e},d3.format=function(t){var n=c.exec(t),e=n[1]||" ",r=n[3]||"",a=n[5],i=+n[6],o=n[7],u=n[8],l=n[9],d=!1,g=!1;switch(u&&(u=u.substring(1)),a&&(e="0",o&&(i-=Math.floor((i-1)/4))),l){case"n":o=!0,l="g";break;case"%":d=!0,l="f";break;case"p":d=!0,l="r";break;case"d":g=!0,u="0"}return l=f[l]||s,function(t){var n,c=d?100*t:+t,f=c<0&&(c=-c)?"âˆ’":r;if(g&&c%1)return"";(t=l(c,u),a)?((n=t.length+f.length)<i&&(t=new Array(i-n+1).join(e)+t),o&&(t=h(t)),t=f+t):(o&&(t=h(t)),(n=(t=f+t).length)<i&&(t=new Array(i-n+1).join(e)+t));return d&&(t+="%"),t}};var c=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,f={g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){var e=1+Math.floor(1e-15+Math.log(t)/Math.LN10);return d3.round(t,n-e).toFixed(Math.max(0,Math.min(20,n-e)))}};function s(t){return t+""}function h(t){for(var n=t.lastIndexOf("."),e=n>=0?t.substring(n):(n=t.length,""),r=[];n>0;)r.push(t.substring(n-=3,n+3));return r.reverse().join(",")+e}var d=b(2),g=b(3),p={linear:function(){return x},poly:b,quad:function(){return d},cubic:function(){return g},sin:function(){return _},exp:function(){return M},circle:function(){return w},elastic:function(t,n){var e;arguments.length<2&&(n=.45);arguments.length<1?(t=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/t);return function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-e)*Math.PI/n)}},back:function(t){t||(t=1.70158);return function(n){return n*n*((t+1)*n-t)}},bounce:function(){return k}},v={in:function(t){return t},out:y,"in-out":m,"out-in":function(t){return m(y(t))}};function y(t){return function(n){return 1-t(1-n)}}function m(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function x(t){return t}function b(t){return function(n){return Math.pow(n,t)}}function _(t){return 1-Math.cos(t*Math.PI/2)}function M(t){return Math.pow(2,10*(t-1))}function w(t){return 1-Math.sqrt(1-t*t)}function k(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}d3.ease=function(t){var n,e=t.indexOf("-"),r=e>=0?t.substring(0,e):t,a=e>=0?t.substring(e+1):"in";return n=v[a](p[r].apply(null,Array.prototype.slice.call(arguments,1))),function(t){return t<=0?0:t>=1?1:n(t)}},d3.event=null,d3.interpolate=function(t,n){for(var e,r=d3.interpolators.length;--r>=0&&!(e=d3.interpolators[r](t,n)););return e},d3.interpolateNumber=function(t,n){return n-=t,function(e){return t+n*e}},d3.interpolateRound=function(t,n){return n-=t,function(e){return Math.round(t+n*e)}},d3.interpolateString=function(t,n){var e,r,a,i,o,u=0,l=[],c=[];for(N.lastIndex=0,r=0;e=N.exec(n);++r)e.index&&l.push(n.substring(u,e.index)),c.push({i:l.length,x:e[0]}),l.push(null),u=N.lastIndex;for(u<n.length&&l.push(n.substring(u)),r=0,i=c.length;(e=N.exec(t))&&r<i;++r)if((o=c[r]).x==e[0]){if(o.i)if(null==l[o.i+1])for(l[o.i-1]+=o.x,l.splice(o.i,1),a=r+1;a<i;++a)c[a].i--;else for(l[o.i-1]+=o.x+l[o.i+1],l.splice(o.i,2),a=r+1;a<i;++a)c[a].i-=2;else if(null==l[o.i+1])l[o.i]=o.x;else for(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1),a=r+1;a<i;++a)c[a].i--;c.splice(r,1),i--,r--}else o.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(o.x));for(;r<i;)o=c.pop(),null==l[o.i+1]?l[o.i]=o.x:(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1)),i--;return 1===l.length?null==l[0]?c[0].x:function(){return n}:function(t){for(r=0;r<i;++r)l[(o=c[r]).i]=o.x(t);return l.join("")}},d3.interpolateRgb=function(t,n){t=d3.rgb(t),n=d3.rgb(n);var e=t.r,r=t.g,a=t.b,i=n.r-e,o=n.g-r,u=n.b-a;return function(t){return"rgb("+Math.round(e+i*t)+","+Math.round(r+o*t)+","+Math.round(a+u*t)+")"}},d3.interpolateHsl=function(t,n){t=d3.hsl(t),n=d3.hsl(n);var e=t.h,r=t.s,a=t.l,i=n.h-e,o=n.s-r,u=n.l-a;return function(t){return I(e+i*t,r+o*t,a+u*t).toString()}},d3.interpolateArray=function(t,n){var e,r=[],a=[],i=t.length,o=n.length,u=Math.min(t.length,n.length);for(e=0;e<u;++e)r.push(d3.interpolate(t[e],n[e]));for(;e<i;++e)a[e]=t[e];for(;e<o;++e)a[e]=n[e];return function(t){for(e=0;e<u;++e)a[e]=r[e](t);return a}},d3.interpolateObject=function(t,n){var e,r,a={},i={};for(e in t)e in n?a[e]=((r=e)in A||/\bcolor\b/.test(r)?d3.interpolateRgb:d3.interpolate)(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in a)i[e]=a[e](t);return i}};var N=/[-+]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][-]?\d+)?/g,A={background:1,fill:1,stroke:1};function q(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function S(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function z(t,n,e){return new P(t,n,e)}function P(t,n,e){this.r=t,this.g=n,this.b=e}function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,n,e){var r,a,i,o=0,u=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(a=r[2].split(","),r[1]){case"hsl":return e(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return n(T(a[0]),T(a[1]),T(a[2]))}return(i=V[t])?n(i.r,i.g,i.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,u=t.charAt(2),u+=u,l=t.charAt(3),l+=l):7===t.length&&(o=t.substring(1,3),u=t.substring(3,5),l=t.substring(5,7)),o=parseInt(o,16),u=parseInt(u,16),l=parseInt(l,16)),n(o,u,l))}function R(t,n,e){var r,a,i=Math.min(t/=255,n/=255,e/=255),o=Math.max(t,n,e),u=o-i,l=(o+i)/2;return u?(a=l<.5?u/(o+i):u/(2-o-i),r=t==o?(n-e)/u+(n<e?6:0):n==o?(e-t)/u+2:(t-n)/u+4,r*=60):a=r=0,C(r,a,l)}function T(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}d3.interpolators=[d3.interpolateObject,function(t,n){return n instanceof Array&&d3.interpolateArray(t,n)},function(t,n){return"string"==typeof n&&d3.interpolateString(String(t),n)},function(t,n){return("string"==typeof n?n in V||/^(#|rgb\(|hsl\()/.test(n):n instanceof P||n instanceof E)&&d3.interpolateRgb(String(t),n)},function(t,n){return"number"==typeof n&&d3.interpolateNumber(+t,n)}],d3.rgb=function(t,n,e){return 1===arguments.length?F(""+t,z,I):z(~~t,~~n,~~e)},P.prototype.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,a=30;return n||e||r?(n&&n<a&&(n=a),e&&e<a&&(e=a),r&&r<a&&(r=a),z(Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(r/t)))):z(a,a,a)},P.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),z(Math.max(0,Math.floor(t*this.r)),Math.max(0,Math.floor(t*this.g)),Math.max(0,Math.floor(t*this.b)))},P.prototype.hsl=function(){return R(this.r,this.g,this.b)},P.prototype.toString=function(){return"#"+L(this.r)+L(this.g)+L(this.b)};var V={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var j in V)V[j]=F(V[j],z,I);function C(t,n,e){return new E(t,n,e)}function E(t,n,e){this.h=t,this.s=n,this.l=e}function I(t,n,e){var r,a;function i(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r}(t))}return(t%=360)<0&&(t+=360),n=n<0?0:n>1?1:n,r=2*(e=e<0?0:e>1?1:e)-(a=e<=.5?e*(1+n):e+n-e*n),z(i(t+120),i(t),i(t-120))}function D(t){return e(t,Z),t}d3.hsl=function(t,n,e){return 1===arguments.length?F(""+t,R,C):C(+t,+n,+e)},E.prototype.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),C(this.h,this.s,this.l/t)},E.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),C(this.h,this.s,t*this.l)},E.prototype.rgb=function(){return I(this.h,this.s,this.l)},E.prototype.toString=function(){return"hsl("+this.h+","+100*this.s+"%,"+100*this.l+"%)"};var H=function(t,n){return n.querySelector(t)},O=function(t,n){return n.querySelectorAll(t)};"function"==typeof Sizzle&&(H=function(t,n){return Sizzle(t,n)[0]},O=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))});var Z=[];function B(t){return function(){return H(t,this)}}function X(t){return function(){return O(t,this)}}function G(t){return{__data__:t}}d3.selection=function(){return K},d3.selection.prototype=Z,Z.select=function(t){var n,e,r,a,i=[];"function"!=typeof t&&(t=B(t));for(var o=-1,u=this.length;++o<u;){i.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(n.push(e=t.call(a,a.__data__,l)),e&&"__data__"in a&&(e.__data__=a.__data__)):n.push(null)}return D(i)},Z.selectAll=function(t){var n,e,r=[];"function"!=typeof t&&(t=X(t));for(var a=-1,i=this.length;++a<i;)for(var o=this[a],u=-1,l=o.length;++u<l;)(e=o[u])&&(r.push(n=t.call(e,e.__data__,u)),n.parentNode=e);return D(r)},Z.attr=function(t,n){if(t=d3.ns.qualify(t),arguments.length<2){var e=this.node();return t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}return this.each(null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)})},Z.classed=function(t,n){var e=new RegExp("(^|\\s+)"+d3.requote(t)+"(\\s+|$)","g");if(arguments.length<2){var r=this.node();if(a=r.classList)return a.contains(t);var a=r.className;return e.lastIndex=0,e.test(null!=a.baseVal?a.baseVal:a)}function i(){if(n=this.classList)return n.add(t);var n=this.className,r=null!=n.baseVal,a=r?n.baseVal:n;e.lastIndex=0,e.test(a)||(a=o(a+" "+t),r?n.baseVal=a:this.className=a)}function u(){if(n=this.classList)return n.remove(t);var n=this.className,r=null!=n.baseVal,a=r?n.baseVal:n;a=o(a.replace(e," ")),r?n.baseVal=a:this.className=a}return this.each("function"==typeof n?function(){(n.apply(this,arguments)?i:u).call(this)}:n?i:u)},Z.style=function(t,n,e){if(arguments.length<3&&(e=""),arguments.length<2)return window.getComputedStyle(this.node(),null).getPropertyValue(t);return this.each(null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}:function(){this.style.setProperty(t,n,e)})},Z.property=function(t,n){if(arguments.length<2)return this.node()[t];return this.each(null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n})},Z.text=function(t){return arguments.length<1?this.node().textContent:this.each("function"==typeof t?function(){this.textContent=t.apply(this,arguments)}:function(){this.textContent=t})},Z.html=function(t){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof t?function(){this.innerHTML=t.apply(this,arguments)}:function(){this.innerHTML=t})},Z.append=function(t){return t=d3.ns.qualify(t),this.select(t.local&&document.createElementNS?function(){return this.appendChild(document.createElementNS(t.space,t.local))}:function(){return this.appendChild(document.createElement(t))})},Z.insert=function(t,n){return t=d3.ns.qualify(t),this.select(t.local?function(){return this.insertBefore(document.createElementNS(t.space,t.local),H(n,this))}:function(){return this.insertBefore(document.createElement(t),H(n,this))})},Z.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Z.data=function(t,n){var r=[],a=[],i=[];function o(t,e){var o,u,l,c=t.length,f=e.length,s=Math.min(c,f),h=Math.max(c,f),d=[],g=[],p=[];if(n){var v,y={},m=[],x=e.length;for(o=-1;++o<c;)(v=n.call(u=t[o],u.__data__,o))in y?p[x++]=u:y[v]=u,m.push(v);for(o=-1;++o<f;)(u=y[v=n.call(e,l=e[o],o)])?(u.__data__=l,d[o]=u,g[o]=p[o]=null):(g[o]=G(l),d[o]=p[o]=null),delete y[v];for(o=-1;++o<c;)m[o]in y&&(p[o]=t[o])}else{for(o=-1;++o<s;)u=t[o],l=e[o],u?(u.__data__=l,d[o]=u,g[o]=p[o]=null):(g[o]=G(l),d[o]=p[o]=null);for(;o<f;++o)g[o]=G(e[o]),d[o]=p[o]=null;for(;o<h;++o)p[o]=t[o],g[o]=d[o]=null}g.update=d,g.parentNode=d.parentNode=p.parentNode=t.parentNode,r.push(g),a.push(d),i.push(p)}var u,l=-1,c=this.length;if("function"==typeof t)for(;++l<c;)o(u=this[l],t.call(u,u.parentNode.__data__,l));else for(;++l<c;)o(u=this[l],t);var f=D(a);return f.enter=function(){return e(t=r,Q),t;var t},f.exit=function(){return D(i)},f};var Q=[];Q.append=Z.append,Q.insert=Z.insert,Q.empty=Z.empty,Q.select=function(t){for(var n,e,r,a,i,o=[],u=-1,l=this.length;++u<l;){r=(a=this[u]).update,o.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,f=a.length;++c<f;)(i=a[c])?(n.push(r[c]=e=t.call(a.parentNode,i.__data__,c)),e.__data__=i.__data__):n.push(null)}return D(o)},Z.filter=function(t){for(var n,e,r,a=[],i=0,o=this.length;i<o;i++){a.push(n=[]),n.parentNode=(e=this[i]).parentNode;for(var u=0,l=e.length;u<l;u++)(r=e[u])&&t.call(r,r.__data__,u)&&n.push(r)}return D(a)},Z.map=function(t){return this.each(function(){this.__data__=t.apply(this,arguments)})},Z.sort=function(t){t=function(t){arguments.length||(t=d3.ascending);return function(n,e){return t(n&&n.__data__,e&&e.__data__)}}.apply(this,arguments);for(var n=0,e=this.length;n<e;n++)for(var r=this[n].sort(t),a=1,i=r.length,o=r[0];a<i;a++){var u=r[a];u&&(o&&o.parentNode.insertBefore(u,o.nextSibling),o=u)}return this},Z.on=function(t,n,e){arguments.length<3&&(e=!1);var r="__on"+t,a=t.indexOf(".");return a>0&&(t=t.substring(0,a)),arguments.length<2?(a=this.node()[r])&&a._:this.each(function(a,i){var o=this;function u(t){var e=d3.event;d3.event=t;try{n.call(o,o.__data__,i)}finally{d3.event=e}}o[r]&&o.removeEventListener(t,o[r],e),n&&o.addEventListener(t,o[r]=u,e),u._=n})},Z.each=function(t){for(var n=-1,e=this.length;++n<e;)for(var r=this[n],a=-1,i=r.length;++a<i;){var o=r[a];o&&t.call(o,o.__data__,a,n)}return this},Z.call=function(t){return t.apply(this,(arguments[0]=this,arguments)),this},Z.empty=function(){return!this.node()},Z.node=function(t){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],a=0,i=r.length;a<i;a++){var o=r[a];if(o)return o}return null},Z.transition=function(){for(var t,n,e=[],r=-1,a=this.length;++r<a;){e.push(t=[]);for(var i=this[r],o=-1,u=i.length;++o<u;)t.push((n=i[o])?{node:n,delay:0,duration:250}:null)}return Y(e,tt||++U)};var K=D([[document]]);function Y(t,n){e(t,W);var r={},a=d3.dispatch("start","end"),i=nt,o=Date.now();return t.id=n,t.tween=function(n,e){return arguments.length<2?r[n]:(null==e?delete r[n]:r[n]=e,t)},t.ease=function(n){return arguments.length?(i="function"==typeof n?n:d3.ease.apply(d3,arguments),t):i},t.each=function(n,e){return arguments.length<2?function(t){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],a=0,i=r.length;a<i;a++){var o=r[a];o&&t.call(o=o.node,o.__data__,a,n)}return this}.call(t,n):(a[n].add(e),t)},d3.timer(function(e){return t.each(function(u,l,c){var f=[],s=this,h=t[c][l].delay,d=t[c][l].duration,g=s.__transition__||(s.__transition__={active:0,count:0});function p(t){if(g.active>n)return y();for(var e in g.active=n,r)(e=r[e].call(s,u,l))&&f.push(e);return a.start.dispatch.call(s,u,l),v(t)||d3.timer(v,0,o),1}function v(t){if(g.active!==n)return y();for(var e=(t-h)/d,r=i(e),o=f.length;o>0;)f[--o].call(s,r);return e>=1?(y(),tt=n,a.end.dispatch.call(s,u,l),tt=0,1):void 0}function y(){return--g.count||delete s.__transition__,1}++g.count,h<=e?p(e):d3.timer(p,h,o)}),1},0,o),t}function J(t){return"function"==typeof t?function(n,e,r){var a=t.call(this,n,e)+"";return r!=a&&d3.interpolate(r,a)}:(t+="",function(n,e,r){return r!=t&&d3.interpolate(r,t)})}K[0].parentNode=document.documentElement,d3.select=function(t){return"string"==typeof t?K.select(t):D([[t]])},d3.selectAll=function(t){return"string"==typeof t?K.selectAll(t):D([t])};var W=[],U=0,tt=0,nt=d3.ease("cubic-in-out");W.call=Z.call,d3.transition=function(){return K.transition()},d3.transition.prototype=W,W.select=function(t){var n,e,r,a=[];"function"!=typeof t&&(t=B(t));for(var i=-1,o=this.length;++i<o;){a.push(n=[]);for(var u=this[i],l=-1,c=u.length;++l<c;)(r=u[l])&&(e=t.call(r.node,r.node.__data__,l))?("__data__"in r.node&&(e.__data__=r.node.__data__),n.push({node:e,delay:r.delay,duration:r.duration})):n.push(null)}return Y(a,this.id).ease(this.ease())},W.selectAll=function(t){var n,e,r=[];"function"!=typeof t&&(t=X(t));for(var a=-1,i=this.length;++a<i;)for(var o=this[a],u=-1,l=o.length;++u<l;)if(e=o[u]){r.push(n=t.call(e.node,e.node.__data__,u));for(var c=-1,f=n.length;++c<f;)n[c]={node:n[c],delay:e.delay,duration:e.duration}}return Y(r,this.id).ease(this.ease())},W.attr=function(t,n){return this.attrTween(t,J(n))},W.attrTween=function(t,n){return t=d3.ns.qualify(t),this.tween("attr."+t,t.local?function(e,r){var a=n.call(this,e,r,this.getAttributeNS(t.space,t.local));return a&&function(n){this.setAttributeNS(t.space,t.local,a(n))}}:function(e,r){var a=n.call(this,e,r,this.getAttribute(t));return a&&function(n){this.setAttribute(t,a(n))}})},W.style=function(t,n,e){return arguments.length<3&&(e=""),this.styleTween(t,J(n),e)},W.styleTween=function(t,n,e){return arguments.length<3&&(e=""),this.tween("style."+t,function(r,a){var i=n.call(this,r,a,window.getComputedStyle(this,null).getPropertyValue(t));return i&&function(n){this.style.setProperty(t,i(n),e)}})},W.text=function(t){return this.tween("text",function(n,e){this.textContent="function"==typeof t?t.call(this,n,e):t})},W.remove=function(){return this.each("end",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},W.delay=function(t){var n=this;return n.each("function"==typeof t?function(e,r,a){n[a][r].delay=+t.apply(this,arguments)}:(t=+t,function(e,r,a){n[a][r].delay=t}))},W.duration=function(t){var n=this;return n.each("function"==typeof t?function(e,r,a){n[a][r].duration=+t.apply(this,arguments)}:(t=+t,function(e,r,a){n[a][r].duration=t}))},W.transition=function(){return this.select(r)};var et,rt,at=null;function it(){for(var t,n=Date.now(),e=at;e;)(t=n-e.then)>=e.delay&&(e.flush=e.callback(t)),e=e.next;var r=ot()-n;r>24?(isFinite(r)&&(clearTimeout(rt),rt=setTimeout(it,r)),et=0):(et=1,ut(it))}function ot(){for(var t=null,n=at,e=1/0;n;)n.flush?n=t?t.next=n.next:at=n.next:(e=Math.min(e,n.then+n.delay),n=(t=n).next);return e}d3.timer=function(t,n,e){var r=!1,a=at;if(arguments.length<3){if(arguments.length<2)n=0;else if(!isFinite(n))return;e=Date.now()}for(;a;){if(a.callback===t){a.then=e,a.delay=n,r=!0;break}a,a=a.next}r||(at={callback:t,then:e,delay:n,next:at}),et||(rt=clearTimeout(rt),et=1,ut(it))},d3.timer.flush=function(){for(var t,n=Date.now(),e=at;e;)t=n-e.then,e.delay||(e.flush=e.callback(t)),e=e.next;ot()};var ut=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};function lt(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function ct(t,n){var e,r=0,a=t.length-1,i=t[r],o=t[a];return o<i&&(e=r,r=a,a=e,e=i,i=o,o=e),n=n(o-i),t[r]=n.floor(i),t[a]=n.ceil(o),t}function ft(){return Math}function st(t,n){return t.range=d3.rebind(t,n.range),t.rangeRound=d3.rebind(t,n.rangeRound),t.interpolate=d3.rebind(t,n.interpolate),t.clamp=d3.rebind(t,n.clamp),t}function ht(t){return t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1),{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}}function dt(t,n){var e=lt(t),r=e[1]-e[0],a=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),i=n/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),e[0]=Math.ceil(e[0]/a)*a,e[1]=Math.floor(e[1]/a)*a+.5*a,e[2]=a,e}function gt(t,n){return d3.range.apply(d3,dt(t,n))}function pt(t,n){return d3.format(",."+Math.max(0,-Math.floor(Math.log(dt(t,n)[2])/Math.LN10+.01))+"f")}function vt(t,n,e,r){var a=e(t[0],t[1]),i=r(n[0],n[1]);return function(t){return i(a(t))}}function yt(t,n,e,r){for(var a=[],i=[],o=0,u=t.length;++o<u;)a.push(e(t[o-1],t[o])),i.push(r(n[o-1],n[o]));return function(n){var e=d3.bisect(t,n,1,t.length-1)-1;return i[e](a[e](n))}}function mt(t){return Math.log(t)/Math.LN10}function xt(t){return-Math.log(-t)/Math.LN10}function bt(t){return t.toPrecision(1)}function _t(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}d3.scale={},d3.scale.linear=function(){return function t(n,e,r,a){var i,o;function u(){var t=2==n.length?vt:yt,u=a?S:q;return i=t(n,e,u,r),o=t(e,n,u,d3.interpolate),l}function l(t){return i(t)}l.invert=function(t){return o(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),u()):n};l.range=function(t){return arguments.length?(e=t,u()):e};l.rangeRound=function(t){return l.range(t).interpolate(d3.interpolateRound)};l.clamp=function(t){return arguments.length?(a=t,u()):a};l.interpolate=function(t){return arguments.length?(r=t,u()):r};l.ticks=function(t){return gt(n,t)};l.tickFormat=function(t){return pt(n,t)};l.nice=function(){return ct(n,ht),u()};l.copy=function(){return t(n,e,r,a)};return u()}([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return function t(n,e){var r=e.pow;function a(t){return n(e(t))}a.invert=function(t){return r(n.invert(t))};a.domain=function(t){return arguments.length?(e=t[0]<0?xt:mt,r=e.pow,n.domain(t.map(e)),a):n.domain().map(r)};a.nice=function(){return n.domain(ct(n.domain(),ft)),a};a.ticks=function(){var t=lt(n.domain()),a=[];if(t.every(isFinite)){var i=Math.floor(t[0]),o=Math.ceil(t[1]),u=r(t[0]),l=r(t[1]);if(e===xt)for(a.push(r(i));i++<o;)for(var c=9;c>0;c--)a.push(r(i)*c);else{for(;i<o;i++)for(var c=1;c<10;c++)a.push(r(i)*c);a.push(r(i))}for(i=0;a[i]<u;i++);for(o=a.length;a[o-1]>l;o--);a=a.slice(i,o)}return a};a.tickFormat=function(){return bt};a.copy=function(){return t(n.copy(),e)};return st(a,n)}(d3.scale.linear(),mt)},mt.pow=function(t){return Math.pow(10,t)},xt.pow=function(t){return-Math.pow(10,-t)},d3.scale.pow=function(){return function t(n,e){var r=_t(e),a=_t(1/e);function i(t){return n(r(t))}i.invert=function(t){return a(n.invert(t))};i.domain=function(t){return arguments.length?(n.domain(t.map(r)),i):n.domain().map(a)};i.ticks=function(t){return gt(i.domain(),t)};i.tickFormat=function(t){return pt(i.domain(),t)};i.nice=function(){return i.domain(ct(i.domain(),ht))};i.exponent=function(t){if(!arguments.length)return e;var n=i.domain();return r=_t(e=t),a=_t(1/e),i.domain(n)};i.copy=function(){return t(n.copy(),e)};return st(i,n)}(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return function t(n,e){var r,a,i;function o(t){return a[((r[t]||(r[t]=n.push(t)))-1)%a.length]}o.domain=function(t){if(!arguments.length)return n;n=[],r={};for(var a,i=-1,u=t.length;++i<u;)r[a=t[i]]||(r[a]=n.push(a));return o[e.t](e.x,e.p)};o.range=function(t){return arguments.length?(a=t,i=0,e={t:"range",x:t},o):a};o.rangePoints=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=(l-u)/(n.length-1+r);return a=n.length<2?[(u+l)/2]:d3.range(u+c*r/2,l+c/2,c),i=0,e={t:"rangePoints",x:t,p:r},o};o.rangeBands=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=(l-u)/(n.length+r);return a=d3.range(u+c*r,l,c),i=c*(1-r),e={t:"rangeBands",x:t,p:r},o};o.rangeRoundBands=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=Math.floor((l-u)/(n.length+r)),f=l-u-(n.length-r)*c;return a=d3.range(u+Math.round(f/2),l,c),i=Math.round(c*(1-r)),e={t:"rangeRoundBands",x:t,p:r},o};o.rangeBand=function(){return i};o.copy=function(){return t(n,e)};return o.domain(n)}([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Mt)},d3.scale.category20=function(){return d3.scale.ordinal().range(wt)},d3.scale.category20b=function(){return d3.scale.ordinal().range(kt)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Nt)};var Mt=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],wt=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],kt=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Nt=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return function t(n,e){var r;function a(){var t=0,a=(n.length,e.length);for(r=[];++t<a;)r[t-1]=d3.quantile(n,t/a);return i}function i(t){return isNaN(t=+t)?NaN:e[d3.bisect(r,t)]}i.domain=function(t){return arguments.length?(n=t.filter(function(t){return!isNaN(t)}).sort(d3.ascending),a()):n};i.range=function(t){return arguments.length?(e=t,a()):e};i.quantiles=function(){return r};i.copy=function(){return t(n,e)};return a()}([],[])},d3.scale.quantize=function(){return function t(n,e,r){var a,i;function o(t){return r[Math.max(0,Math.min(i,Math.floor(a*(t-n))))]}function u(){return a=r.length/(e-n),i=r.length-1,o}o.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],u()):[n,e]};o.range=function(t){return arguments.length?(r=t,u()):r};o.copy=function(){return t(n,e,r)};return u()}(0,1,[0,1])},d3.svg={},d3.svg.arc=function(){var t=St,n=zt,e=Pt,r=Lt;function a(){var a=t.apply(this,arguments),i=n.apply(this,arguments),o=e.apply(this,arguments)+At,u=r.apply(this,arguments)+At,l=(u<o&&(l=o,o=u,u=l),u-o),c=l<Math.PI?"0":"1",f=Math.cos(o),s=Math.sin(o),h=Math.cos(u),d=Math.sin(u);return l>=qt?a?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":a?"M"+i*f+","+i*s+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*d+"L"+a*h+","+a*d+"A"+a+","+a+" 0 "+c+",0 "+a*f+","+a*s+"Z":"M"+i*f+","+i*s+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*d+"L0,0Z"}return a.innerRadius=function(n){return arguments.length?(t=d3.functor(n),a):t},a.outerRadius=function(t){return arguments.length?(n=d3.functor(t),a):n},a.startAngle=function(t){return arguments.length?(e=d3.functor(t),a):e},a.endAngle=function(t){return arguments.length?(r=d3.functor(t),a):r},a.centroid=function(){var a=(t.apply(this,arguments)+n.apply(this,arguments))/2,i=(e.apply(this,arguments)+r.apply(this,arguments))/2+At;return[Math.cos(i)*a,Math.sin(i)*a]},a};var At=-Math.PI/2,qt=2*Math.PI-1e-6;function St(t){return t.innerRadius}function zt(t){return t.outerRadius}function Pt(t){return t.startAngle}function Lt(t){return t.endAngle}function Ft(t){var n=Tt,e=Vt,r="linear",a=jt[r],i=.7;function o(r){return r.length<1?null:"M"+a(t(Rt(this,r,n,e)),i)}return o.x=function(t){return arguments.length?(n=t,o):n},o.y=function(t){return arguments.length?(e=t,o):e},o.interpolate=function(t){return arguments.length?(a=jt[r=t],o):r},o.tension=function(t){return arguments.length?(i=t,o):i},o}function Rt(t,n,e,r){var a,i=[],o=-1,u=n.length,l="function"==typeof e,c="function"==typeof r;if(l&&c)for(;++o<u;)i.push([e.call(t,a=n[o],o),r.call(t,a,o)]);else if(l)for(;++o<u;)i.push([e.call(t,n[o],o),r]);else if(c)for(;++o<u;)i.push([e,r.call(t,n[o],o)]);else for(;++o<u;)i.push([e,r]);return i}function Tt(t){return t[0]}function Vt(t){return t[1]}d3.svg.line=function(){return Ft(Object)};var jt={linear:Ct,"step-before":function(t){var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];for(;++n<e;)a.push("V",(r=t[n])[1],"H",r[0]);return a.join("")},"step-after":function(t){var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];for(;++n<e;)a.push("H",(r=t[n])[0],"V",r[1]);return a.join("")},basis:Dt,"basis-open":function(t){if(t.length<4)return Ct(t);var n,e=[],r=-1,a=t.length,i=[0],o=[0];for(;++r<3;)n=t[r],i.push(n[0]),o.push(n[1]);e.push(Ht(Bt,i)+","+Ht(Bt,o)),--r;for(;++r<a;)n=t[r],i.shift(),i.push(n[0]),o.shift(),o.push(n[1]),Xt(e,i,o);return e.join("")},"basis-closed":function(t){var n,e,r=-1,a=t.length,i=a+4,o=[],u=[];for(;++r<4;)e=t[r%a],o.push(e[0]),u.push(e[1]);n=[Ht(Bt,o),",",Ht(Bt,u)],--r;for(;++r<i;)e=t[r%a],o.shift(),o.push(e[0]),u.shift(),u.push(e[1]),Xt(n,o,u);return n.join("")},bundle:function(t,n){var e,r,a=t.length-1,i=t[0][0],o=t[0][1],u=t[a][0]-i,l=t[a][1]-o,c=-1;for(;++c<=a;)e=t[c],r=c/a,e[0]=n*e[0]+(1-n)*(i+r*u),e[1]=n*e[1]+(1-n)*(o+r*l);return Dt(t)},cardinal:function(t,n,e){return t.length<3?Ct(t):t[0]+Et(t,It(t,n))},"cardinal-open":function(t,n){return t.length<4?Ct(t):t[1]+Et(t.slice(1,t.length-1),It(t,n))},"cardinal-closed":function(t,n){return t.length<3?Ct(t):t[0]+Et((t.push(t[0]),t),It([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?Ct(t):t[0]+Et(t,function(t){var n,e,r,a,i=[],o=function(t){var n=0,e=t.length-1,r=[],a=t[0],i=t[1],o=r[0]=$t(a,i);for(;++n<e;)r[n]=o+(o=$t(a=i,i=t[n+1]));return r[n]=o,r}(t),u=-1,l=t.length-1;for(;++u<l;)n=$t(t[u],t[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(e=o[u]/n,r=o[u+1]/n,(a=e*e+r*r)>9&&(a=3*n/Math.sqrt(a),o[u]=a*e,o[u+1]=a*r));u=-1;for(;++u<=l;)a=(t[Math.min(l,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),i.push([a||0,o[u]*a||0]);return i}(t))}};function Ct(t){for(var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];++n<e;)a.push("L",(r=t[n])[0],",",r[1]);return a.join("")}function Et(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Ct(t);var e=t.length!=n.length,r="",a=t[0],i=t[1],o=n[0],u=o,l=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=t[1],l=2),n.length>1){u=n[1],i=t[l],l++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1];for(var c=2;c<n.length;c++,l++)i=t[l],u=n[c],r+="S"+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1]}if(e){var f=t[l];r+="Q"+(i[0]+2*u[0]/3)+","+(i[1]+2*u[1]/3)+","+f[0]+","+f[1]}return r}function It(t,n){for(var e,r=[],a=(1-n)/2,i=t[0],o=t[1],u=1,l=t.length;++u<l;)e=i,i=o,o=t[u],r.push([a*(o[0]-e[0]),a*(o[1]-e[1])]);return r}function Dt(t){if(t.length<3)return Ct(t);var n=1,e=t.length,r=t[0],a=r[0],i=r[1],o=[a,a,a,(r=t[1])[0]],u=[i,i,i,r[1]],l=[a,",",i];for(Xt(l,o,u);++n<e;)r=t[n],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Xt(l,o,u);for(n=-1;++n<2;)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Xt(l,o,u);return l.join("")}function Ht(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}var Ot=[0,2/3,1/3,0],Zt=[0,1/3,2/3,0],Bt=[0,1/6,2/3,1/6];function Xt(t,n,e){t.push("C",Ht(Ot,n),",",Ht(Ot,e),",",Ht(Zt,n),",",Ht(Zt,e),",",Ht(Bt,n),",",Ht(Bt,e))}function $t(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Gt(t){for(var n,e,r,a=-1,i=t.length;++a<i;)e=(n=t[a])[0],r=n[1]+At,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Qt(t){var n=Tt,e=Tt,r=0,a=Vt,i="linear",o=jt[i],u=.7;function l(i){if(i.length<1)return null;var l,c=Rt(this,i,n,r),f=Rt(this,i,n===e?(l=c,function(t,n){return l[n][0]}):e,r===a?function(t){return function(n,e){return t[e][1]}}(c):a);return"M"+o(t(f),u)+"L"+o(t(c.reverse()),u)+"Z"}return l.x=function(t){return arguments.length?(n=e=t,l):e},l.x0=function(t){return arguments.length?(n=t,l):n},l.x1=function(t){return arguments.length?(e=t,l):e},l.y=function(t){return arguments.length?(r=a=t,l):a},l.y0=function(t){return arguments.length?(r=t,l):r},l.y1=function(t){return arguments.length?(a=t,l):a},l.interpolate=function(t){return arguments.length?(o=jt[i=t],l):i},l.tension=function(t){return arguments.length?(u=t,l):u},l}function Kt(t){return t.source}function Yt(t){return t.target}function Jt(t){return t.radius}function Wt(t){return[t.x,t.y]}d3.svg.line.radial=function(){var t=Ft(Gt);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},d3.svg.area=function(){return Qt(Object)},d3.svg.area.radial=function(){var t=Qt(Gt);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},d3.svg.chord=function(){var t=Kt,n=Yt,e=Jt,r=Pt,a=Lt;function i(e,r){var a,i,c=o(this,t,e,r),f=o(this,n,e,r);return"M"+c.p0+u(c.r,c.p1)+(i=f,(a=c).a0==i.a0&&a.a1==i.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,f.r,f.p0)+u(f.r,f.p1)+l(f.r,f.p1,c.r,c.p0))+"Z"}function o(t,n,i,o){var u=n.call(t,i,o),l=e.call(t,u,o),c=r.call(t,u,o)+At,f=a.call(t,u,o)+At;return{r:l,a0:c,a1:f,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(f),l*Math.sin(f)]}}function u(t,n){return"A"+t+","+t+" 0 0,1 "+n}function l(t,n,e,r){return"Q 0,0 "+r}return i.radius=function(t){return arguments.length?(e=d3.functor(t),i):e},i.source=function(n){return arguments.length?(t=d3.functor(n),i):t},i.target=function(t){return arguments.length?(n=d3.functor(t),i):n},i.startAngle=function(t){return arguments.length?(r=d3.functor(t),i):r},i.endAngle=function(t){return arguments.length?(a=d3.functor(t),i):a},i},d3.svg.diagonal=function(){var t=Kt,n=Yt,e=Wt;function r(r,a){var i=t.call(this,r,a),o=n.call(this,r,a),u=(i.y+o.y)/2,l=[i,{x:i.x,y:u},{x:o.x,y:u},o];return"M"+(l=l.map(e))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(n){return arguments.length?(t=d3.functor(n),r):t},r.target=function(t){return arguments.length?(n=d3.functor(t),r):n},r.projection=function(t){return arguments.length?(e=t,r):e},r},d3.svg.diagonal.radial=function(){var t=d3.svg.diagonal(),n=Wt,e=t.projection;return t.projection=function(t){return arguments.length?e(function(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+At;return[e*Math.cos(r),e*Math.sin(r)]}}(n=t)):n},t},d3.svg.mouse=function(t){return tn(t,d3.event)};var Ut=/WebKit/.test(navigator.userAgent)?-1:0;function tn(t,n){var e=(t.ownerSVGElement||t).createSVGPoint();if(Ut<0&&(window.scrollX||window.scrollY)){var r=d3.select(document.body).append("svg:svg").style("position","absolute").style("top",0).style("left",0),a=r[0][0].getScreenCTM();Ut=!(a.f||a.e),r.remove()}return Ut?(e.x=n.pageX,e.y=n.pageY):(e.x=n.clientX,e.y=n.clientY),[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}function nn(){return 64}function en(){return"circle"}d3.svg.touches=function(t){var n=d3.event.touches;return n?Array.prototype.map.call(n,function(n){var e=tn(t,n);return e.identifier=n.identifier,e}):[]},d3.svg.symbol=function(){var t=en,n=nn;function e(e,r){return(rn[t.call(this,e,r)]||rn.circle)(n.call(this,e,r))}return e.type=function(n){return arguments.length?(t=d3.functor(n),e):t},e.size=function(t){return arguments.length?(n=d3.functor(t),e):n},e};var rn={circle:function(t){var n=Math.sqrt(t/Math.PI);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"},cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*hn)),e=n*hn;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/sn),e=n*sn/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/sn),e=n*sn/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}};d3.svg.symbolTypes=d3.keys(rn);var an,on,un,ln,cn,fn,sn=Math.sqrt(3),hn=Math.tan(30*Math.PI/180);function dn(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function gn(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function pn(t){var n=d3.event,e=on.parentNode,r=0,a=0;e&&(r=(e=vn(e))[0]-ln[0],a=e[1]-ln[1],ln=e,cn|=r|a);try{d3.event={dx:r,dy:a},an[t].dispatch.apply(on,un)}finally{d3.event=n}n.preventDefault()}function vn(t){return d3.event.touches?d3.svg.touches(t)[0]:d3.svg.mouse(t)}function yn(){if(on){if(!on.parentNode)return mn();pn("drag"),bn()}}function mn(){on&&(pn("dragend"),on=null,cn&&(fn=!0,bn()))}function xn(){fn&&(bn(),fn=!1)}function bn(){d3.event.stopPropagation(),d3.event.preventDefault()}d3.svg.axis=function(){var t,n=d3.scale.linear(),e="bottom",r=6,a=6,i=6,o=3,u=[10],l=0;function c(c){c.each(function(f,s,h){var d,g=d3.select(this),p=n.ticks.apply(n,u),v=null==t?n.tickFormat.apply(n,u):t,y=function(t,n,e){if(r=[],e&&n.length>1){for(var r,a,i,o=lt(t.domain()),u=-1,l=n.length,c=(n[1]-n[0])/++e;++u<l;)for(a=e;--a>0;)(i=+n[u]-a*c)>=o[0]&&r.push(i);for(--u,a=0;++a<e&&(i=+n[u]+a*c)<o[1];)r.push(i)}return r}(n,p,l),m=g.selectAll(".minor").data(y,String),x=m.enter().insert("svg:line","g").attr("class","tick minor").style("opacity",1e-6),b=P(m.exit()).style("opacity",1e-6).remove(),_=P(m).style("opacity",1),M=g.selectAll("g").data(p,String),w=M.enter().insert("svg:g","path").style("opacity",1e-6),k=P(M.exit()).style("opacity",1e-6).remove(),N=P(M).style("opacity",1),A=lt(n.range()),q=g.selectAll(".domain").data([0]),S=(q.enter().append("svg:path").attr("class","domain"),P(q)),z=this.__chart__||n;switch(this.__chart__=n.copy(),w.append("svg:line").attr("class","tick"),w.append("svg:text"),N.select("text").text(v),e){case"bottom":d=dn,_.attr("y2",a),w.select("text").attr("dy",".71em").attr("text-anchor","middle"),N.select("line").attr("y2",r),N.select("text").attr("y",Math.max(r,0)+o),S.attr("d","M"+A[0]+","+i+"V0H"+A[1]+"V"+i);break;case"top":d=dn,_.attr("y2",-a),w.select("text").attr("text-anchor","middle"),N.select("line").attr("y2",-r),N.select("text").attr("y",-(Math.max(r,0)+o)),S.attr("d","M"+A[0]+","+-i+"V0H"+A[1]+"V"+-i);break;case"left":d=gn,_.attr("x2",-a),w.select("text").attr("dy",".32em").attr("text-anchor","end"),N.select("line").attr("x2",-r),N.select("text").attr("x",-(Math.max(r,0)+o)),S.attr("d","M"+-i+","+A[0]+"H0V"+A[1]+"H"+-i);break;case"right":d=gn,_.attr("x2",a),w.select("text").attr("dy",".32em"),N.select("line").attr("x2",r),N.select("text").attr("x",Math.max(r,0)+o),S.attr("d","M"+i+","+A[0]+"H0V"+A[1]+"H"+i)}function P(t){return c.delay?t.transition().delay(c[h][s].delay).duration(c[h][s].duration).ease(c.ease()):t}w.call(d,z),N.call(d,n),k.call(d,n),x.call(d,z),_.call(d,n),b.call(d,n)})}return c.scale=function(t){return arguments.length?(n=t,c):n},c.orient=function(t){return arguments.length?(e=t,c):e},c.ticks=function(){return arguments.length?(u=arguments,c):u},c.tickFormat=function(n){return arguments.length?(t=n,c):t},c.tickSize=function(t,n,e){if(!arguments.length)return r;var o=arguments.length-1;return r=+t,a=o>1?+n:r,i=o>0?+arguments[o]:r,c},c.tickPadding=function(t){return arguments.length?(o=+t,c):o},c.tickSubdivide=function(t){return arguments.length?(l=+t,c):l},c},d3.behavior={},d3.behavior.drag=function(){var t=d3.dispatch("drag","dragstart","dragend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",e),d3.select(window).on("mousemove.drag",yn).on("touchmove.drag",yn).on("mouseup.drag",mn,!0).on("touchend.drag",mn,!0).on("click.drag",xn,!0)}function e(){(function(){an=t,ln=vn((on=this).parentNode),cn=0,un=arguments}).apply(this,arguments),pn("dragstart")}return n.on=function(e,r){return t[e].add(r),n},n},d3.behavior.zoom=function(){var t=[0,0,0],n=d3.dispatch("zoom");function e(){this.on("mousedown.zoom",a).on("mousewheel.zoom",i).on("DOMMouseScroll.zoom",i).on("dblclick.zoom",o).on("touchstart.zoom",u),d3.select(window).on("mousemove.zoom",Vn).on("mouseup.zoom",jn).on("touchmove.zoom",Tn).on("touchend.zoom",Rn).on("click.zoom",Cn,!0)}function r(){kn=t,Nn=n.zoom.dispatch,An=this,qn=arguments}function a(){r.apply(this,arguments),Mn=Fn(d3.svg.mouse(An)),Sn=!1,d3.event.preventDefault(),window.focus()}function i(){r.apply(this,arguments),wn||(wn=Fn(d3.svg.mouse(An))),En(function(){_n||(_n=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var t,n=d3.event;try{_n.scrollTop=1e3,_n.dispatchEvent(n),t=1e3-_n.scrollTop}catch(e){t=n.wheelDelta||5*-n.detail}return.005*t}()+t[2],d3.svg.mouse(An),wn)}function o(){r.apply(this,arguments);var n=d3.svg.mouse(An);En(d3.event.shiftKey?Math.ceil(t[2]-1):Math.floor(t[2]+1),n,Fn(n))}function u(){r.apply(this,arguments);var n,e=Rn(),a=Date.now();1===e.length&&a-Ln<300&&En(1+Math.floor(t[2]),n=e[0],Pn[n.identifier]),Ln=a}return e.on=function(t,r){return n[t].add(r),e},e};var _n,Mn,wn,kn,Nn,An,qn,Sn,zn,Pn={},Ln=0;function Fn(t){return[t[0]-kn[0],t[1]-kn[1],kn[2]]}function Rn(){for(var t,n=d3.svg.touches(An),e=-1,r=n.length;++e<r;)Pn[(t=n[e]).identifier]=Fn(t);return n}function Tn(){var t=d3.svg.touches(An);switch(t.length){case 1:var n=t[0];En(kn[2],n,Pn[n.identifier]);break;case 2:var e=t[0],r=t[1],a=[(e[0]+r[0])/2,(e[1]+r[1])/2],i=Pn[e.identifier],o=Pn[r.identifier],u=[(i[0]+o[0])/2,(i[1]+o[1])/2,i[2]];En(Math.log(d3.event.scale)/Math.LN2+i[2],a,u)}}function Vn(){wn=null,Mn&&(Sn=!0,En(kn[2],d3.svg.mouse(An),Mn))}function jn(){Mn&&(Sn&&(zn=!0),Vn(),Mn=null)}function Cn(){zn&&(d3.event.stopPropagation(),d3.event.preventDefault(),zn=!1)}function En(t,n,e){var r=Math.pow(2,(kn[2]=t)-e[2]),a=kn[0]=n[0]-r*e[0],i=kn[1]=n[1]-r*e[1],o=d3.event,u=Math.pow(2,t);function l(t,n){var e=t.__domain||(t.__domain=t.domain()),r=t.range().map(function(t){return(t-n)/u});t.domain(e).domain(r.map(t.invert))}d3.event={scale:u,translate:[a,i],transform:function(t,n){t&&l(t,a),n&&l(n,i)}};try{Nn.apply(An,qn)}finally{d3.event=o}o.preventDefault()}}(),function(){function t(t){for(var e=t.source,r=t.target,a=function(t,e){if(t===e)return t;var r=n(t),a=n(e),i=r.pop(),o=a.pop(),u=null;for(;i===o;)u=i,i=r.pop(),o=a.pop();return u}(e,r),i=[e];e!==a;)e=e.parent,i.push(e);for(var o=i.length;r!==a;)i.splice(o,0,r),r=r.parent;return i}function n(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}var e,r;function a(t){t.fixed|=2}function i(t){t!==r&&(t.fixed&=1)}function o(){u(),r.fixed&=1,e=r=null}function u(){r.px+=d3.event.dx,r.py+=d3.event.dy,e.resume()}function l(t){return 20}function c(t){return 1}function f(t){return t.x}function s(t){return t.y}function h(t,n,e){t.y0=n,t.y=e}d3.layout={},d3.layout.bundle=function(){return function(n){for(var e=[],r=-1,a=n.length;++r<a;)e.push(t(n[r]));return e}},d3.layout.chord=function(){var t,n,e,r,a,i,o,u={},l=0;function c(){var u,c,s,h,d,g={},p=[],v=d3.range(r),y=[];for(t=[],n=[],u=0,h=-1;++h<r;){for(c=0,d=-1;++d<r;)c+=e[h][d];p.push(c),y.push(d3.range(r)),u+=c}for(a&&v.sort(function(t,n){return a(p[t],p[n])}),i&&y.forEach(function(t,n){t.sort(function(t,r){return i(e[n][t],e[n][r])})}),u=(2*Math.PI-l*r)/u,c=0,h=-1;++h<r;){for(s=c,d=-1;++d<r;){var m=v[h],x=y[h][d],b=e[m][x];g[m+"-"+x]={index:m,subindex:x,startAngle:c,endAngle:c+=b*u,value:b}}n.push({index:m,startAngle:s,endAngle:c,value:(c-s)/u}),c+=l}for(h=-1;++h<r;)for(d=h-1;++d<r;){var _=g[h+"-"+d],M=g[d+"-"+h];(_.value||M.value)&&t.push(_.value<M.value?{source:M,target:_}:{source:_,target:M})}o&&f()}function f(){t.sort(function(t,n){return o(t.target.value,n.target.value)})}return u.matrix=function(a){return arguments.length?(r=(e=a)&&e.length,t=n=null,u):e},u.padding=function(e){return arguments.length?(l=e,t=n=null,u):l},u.sortGroups=function(e){return arguments.length?(a=e,t=n=null,u):a},u.sortSubgroups=function(n){return arguments.length?(i=n,t=null,u):i},u.sortChords=function(n){return arguments.length?(o=n,t&&f(),u):o},u.chords=function(){return t||c(),t},u.groups=function(){return n||c(),n},u},d3.layout.force=function(){var t,n,f,s,h,d={},g=d3.dispatch("tick"),p=[1,1],v=.9,y=l,m=c,x=-30,b=.1,_=.8,M=[],w=[];function k(t){return function(n,e,r,a,i){if(n.point!==t){var o=n.cx-t.x,u=n.cy-t.y,l=1/Math.sqrt(o*o+u*u);if((a-e)*l<_){var c=n.charge*l*l;return t.px-=o*c,t.py-=u*c,!0}if(n.point&&isFinite(l)){c=n.pointCharge*l*l;t.px-=o*c,t.py-=u*c}}}}function N(){var t,e,r,a,i,o,u,l,c,d=M.length,y=w.length;for(e=0;e<y;++e)a=(r=w[e]).source,(o=(l=(i=r.target).x-a.x)*l+(c=i.y-a.y)*c)&&(l*=o=n*s[e]*((o=Math.sqrt(o))-f[e])/o,c*=o,i.x-=l*(u=a.weight/(i.weight+a.weight)),i.y-=c*u,a.x+=l*(u=1-u),a.y+=c*u);if((u=n*b)&&(l=p[0]/2,c=p[1]/2,e=-1,u))for(;++e<d;)(r=M[e]).x+=(l-r.x)*u,r.y+=(c-r.y)*u;if(x)for(!function t(n,e,r){var a=0,i=0;n.charge=0;if(!n.leaf)for(var o,u=n.nodes,l=u.length,c=-1;++c<l;)null!=(o=u[c])&&(t(o,e,r),n.charge+=o.charge,a+=o.charge*o.cx,i+=o.charge*o.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var f=e*r[n.point.index];n.charge+=n.pointCharge=f,a+=f*n.point.x,i+=f*n.point.y}n.cx=a/n.charge;n.cy=i/n.charge}(t=d3.geom.quadtree(M),n,h),e=-1;++e<d;)(r=M[e]).fixed||t.visit(k(r));for(e=-1;++e<d;)(r=M[e]).fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*v,r.y-=(r.py-(r.py=r.y))*v);return g.tick.dispatch({type:"tick",alpha:n}),(n*=.99)<.005}function A(t){a(r=t),e=d}return d.on=function(t,n){return g[t].add(n),d},d.nodes=function(t){return arguments.length?(M=t,d):M},d.links=function(t){return arguments.length?(w=t,d):w},d.size=function(t){return arguments.length?(p=t,d):p},d.linkDistance=function(t){return arguments.length?(y=d3.functor(t),d):y},d.distance=d.linkDistance,d.linkStrength=function(t){return arguments.length?(m=d3.functor(t),d):m},d.friction=function(t){return arguments.length?(v=t,d):v},d.charge=function(t){return arguments.length?(x="function"==typeof t?t:+t,d):x},d.gravity=function(t){return arguments.length?(b=t,d):b},d.theta=function(t){return arguments.length?(_=t,d):_},d.start=function(){var t,n,e,r,a=M.length,i=w.length,o=p[0],u=p[1];for(t=0;t<a;++t)(r=M[t]).index=t,r.weight=0;for(f=[],s=[],t=0;t<i;++t)"number"==typeof(r=w[t]).source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),f[t]=y.call(this,r,t),s[t]=m.call(this,r,t),++r.source.weight,++r.target.weight;for(t=0;t<a;++t)r=M[t],isNaN(r.x)&&(r.x=l("x",o)),isNaN(r.y)&&(r.y=l("y",u)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(h=[],"function"==typeof x)for(t=0;t<a;++t)h[t]=+x.call(this,M[t],t);else for(t=0;t<a;++t)h[t]=x;function l(t,n){for(var e,r=c(),a=-1,i=r.length;++a<i;)if(!isNaN(e=r[a][t]))return e;return Math.random()*n}function c(){if(!e){for(e=[],n=0;n<a;++n)e[n]=[];for(n=0;n<i;++n){var r=w[n];e[r.source.index].push(r.target),e[r.target.index].push(r.source)}}return e[t]}return d.resume()},d.resume=function(){return n=.1,d3.timer(N),d},d.stop=function(){return n=0,d},d.drag=function(){t||(t=d3.behavior.drag().on("dragstart",A).on("drag",u).on("dragend",o)),this.on("mouseover.force",a).on("mouseout.force",i).call(t)},d},d3.layout.partition=function(){var t=d3.layout.hierarchy(),n=[1,1];function e(e,r){var a=t.call(this,e,r);return function t(n,e,r,a){var i=n.children;if(n.x=e,n.y=n.depth*a,n.dx=r,n.dy=a,i){var o,u,l=-1,c=i.length;for(r=n.value?r/n.value:0;++l<c;)t(o=i[l],e,u=o.value*r,a),e+=u}}(a[0],0,n[0],n[1]/function t(n){var e=n.children,r=0;if(e)for(var a=-1,i=e.length;++a<i;)r=Math.max(r,t(e[a]));return 1+r}(a[0])),a}return e.size=function(t){return arguments.length?(n=t,e):n},M(e,t)},d3.layout.pie=function(){var t=Number,n=null,e=0,r=2*Math.PI;function a(a,i){var o=+("function"==typeof e?e.apply(this,arguments):e),u=("function"==typeof r?r.apply(this,arguments):r)-e,l=d3.range(a.length);null!=n&&l.sort(function(t,e){return n(a[t],a[e])});var c=a.map(t);u/=c.reduce(function(t,n){return t+n},0);var f=l.map(function(t){return{data:a[t],value:d=c[t],startAngle:o,endAngle:o+=d*u}});return a.map(function(t,n){return f[l[n]]})}return a.value=function(n){return arguments.length?(t=n,a):t},a.sort=function(t){return arguments.length?(n=t,a):n},a.startAngle=function(t){return arguments.length?(e=t,a):e},a.endAngle=function(t){return arguments.length?(r=t,a):r},a},d3.layout.stack=function(){var t=Object,n=g.default,e=p.zero,r=h,a=f,i=s;function o(u,l){var c=u.map(function(n,e){return t.call(o,n,e)}),f=c.map(function(t,n){return t.map(function(t,n){return[a.call(o,t,n),i.call(o,t,n)]})}),s=n.call(o,f,l);c=d3.permute(c,s),f=d3.permute(f,s);var h,d,g,p=e.call(o,f,l),v=c.length,y=c[0].length;for(d=0;d<y;++d)for(r.call(o,c[0][d],g=p[d],f[0][d][1]),h=1;h<v;++h)r.call(o,c[h][d],g+=f[h-1][d][1],f[h][d][1]);return u}return o.values=function(n){return arguments.length?(t=n,o):t},o.order=function(t){return arguments.length?(n="function"==typeof t?t:g[t],o):n},o.offset=function(t){return arguments.length?(e="function"==typeof t?t:p[t],o):e},o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(i=t,o):i},o.out=function(t){return arguments.length?(r=t,o):r},o};var g={"inside-out":function(t){var n,e,r=t.length,a=t.map(v),i=t.map(y),o=d3.range(r).sort(function(t,n){return a[t]-a[n]}),u=0,l=0,c=[],f=[];for(n=0;n<r;++n)e=o[n],u<l?(u+=i[e],c.push(e)):(l+=i[e],f.push(e));return f.reverse().concat(c)},reverse:function(t){return d3.range(t.length).reverse()},default:function(t){return d3.range(t.length)}},p={silhouette:function(t){var n,e,r,a=t.length,i=t[0].length,o=[],u=0,l=[];for(e=0;e<i;++e){for(n=0,r=0;n<a;n++)r+=t[n][e][1];r>u&&(u=r),o.push(r)}for(e=0;e<i;++e)l[e]=(u-o[e])/2;return l},wiggle:function(t){var n,e,r,a,i,o,u,l,c,f=t.length,s=t[0],h=s.length,d=[];for(d[0]=l=c=0,e=1;e<h;++e){for(n=0,a=0;n<f;++n)a+=t[n][e][1];for(n=0,i=0,u=s[e][0]-s[e-1][0];n<f;++n){for(r=0,o=(t[n][e][1]-t[n][e-1][1])/(2*u);r<n;++r)o+=(t[r][e][1]-t[r][e-1][1])/u;i+=o*t[n][e][1]}d[e]=l-=a?i/a*u:0,l<c&&(c=l)}for(e=0;e<h;++e)d[e]-=c;return d},expand:function(t){var n,e,r,a=t.length,i=t[0].length,o=1/a,u=[];for(e=0;e<i;++e){for(n=0,r=0;n<a;n++)r+=t[n][e][1];if(r)for(n=0;n<a;n++)t[n][e][1]/=r;else for(n=0;n<a;n++)t[n][e][1]=o}for(e=0;e<i;++e)u[e]=0;return u},zero:function(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}};function v(t){for(var n,e=1,r=0,a=t[0][1],i=t.length;e<i;++e)(n=t[e][1])>a&&(r=e,a=n);return r}function y(t){return t.reduce(m,0)}function m(t,n){return t+n[1]}function x(t,n){return b(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function b(t,n){for(var e=-1,r=+t[0],a=(t[1]-r)/n,i=[];++e<=n;)i[e]=a*e+r;return i}function _(t){return[d3.min(t),d3.max(t)]}function M(t,n){return t.sort=d3.rebind(t,n.sort),t.children=d3.rebind(t,n.children),t.links=A,t.value=d3.rebind(t,n.value),t.nodes=function(n){return q=!0,(t.nodes=t)(n)},t}function w(t){return t.children}function k(t){return t.value}function N(t,n){return n.value-t.value}function A(t){return d3.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}d3.layout.histogram=function(){var t=!0,n=Number,e=_,r=x;function a(a,i){for(var o,u,l=[],c=a.map(n,this),f=e.call(this,c,i),s=r.call(this,f,c,i),h=(i=-1,c.length),d=s.length-1,g=t?1:1/h;++i<d;)(o=l[i]=[]).dx=s[i+1]-(o.x=s[i]),o.y=0;for(i=-1;++i<h;)(u=c[i])>=f[0]&&u<=f[1]&&((o=l[d3.bisect(s,u,1,d)-1]).y+=g,o.push(a[i]));return l}return a.value=function(t){return arguments.length?(n=t,a):n},a.range=function(t){return arguments.length?(e=d3.functor(t),a):e},a.bins=function(t){return arguments.length?(r="number"==typeof t?function(n){return b(n,t)}:d3.functor(t),a):r},a.frequency=function(n){return arguments.length?(t=!!n,a):t},a},d3.layout.hierarchy=function(){var t=N,n=w,e=k;function r(i,o,u){var l=n.call(a,i,o),c=q?i:{data:i};if(c.depth=o,u.push(c),l&&(f=l.length)){for(var f,s=-1,h=c.children=[],g=0,p=o+1;++s<f;)d=r(l[s],p,u),d.parent=c,h.push(d),g+=d.value;t&&h.sort(t),e&&(c.value=g)}else e&&(c.value=+e.call(a,i,o)||0);return c}function a(t){var n=[];return r(t,0,n),n}return a.sort=function(n){return arguments.length?(t=n,a):t},a.children=function(t){return arguments.length?(n=t,a):n},a.value=function(t){return arguments.length?(e=t,a):e},a.revalue=function(t){return function t(n,r){var i=n.children,o=0;if(i&&(u=i.length))for(var u,l=-1,c=r+1;++l<u;)o+=t(i[l],c);else e&&(o=+e.call(a,q?n:n.data,r)||0);return e&&(n.value=o),o}(t,0),t},a};var q=!1;function S(t,n){return t.value-n.value}function z(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function P(t,n){t._pack_next=n,n._pack_prev=t}function L(t,n){var e=n.x-t.x,r=n.y-t.y,a=t.r+n.r;return a*a-e*e-r*r>.001}function F(t){t._pack_next=t._pack_prev=t}function R(t){delete t._pack_next,delete t._pack_prev}function T(t){var n=t.children;n&&n.length?(n.forEach(T),t.r=function(t){var n,e,r,a,i,o=1/0,u=-1/0,l=1/0,c=-1/0,f=t.length;function s(t){o=Math.min(t.x-t.r,o),u=Math.max(t.x+t.r,u),l=Math.min(t.y-t.r,l),c=Math.max(t.y+t.r,c)}if(t.forEach(F),(n=t[0]).x=-n.r,n.y=0,s(n),f>1&&((e=t[1]).x=e.r,e.y=0,s(e),f>2)){V(n,e,r=t[2]),s(r),z(n,r),n._pack_prev=r,z(r,e),e=n._pack_next;for(var h=3;h<f;h++){V(n,e,r=t[h]);var d=0,g=1,p=1;for(a=e._pack_next;a!==e;a=a._pack_next,g++)if(L(a,r)){d=1;break}if(1==d)for(i=n._pack_prev;i!==a._pack_prev;i=i._pack_prev,p++)if(L(i,r)){p<g&&(d=-1,a=i);break}0==d?(z(n,r),e=r,s(r)):d>0?(P(n,a),e=a,h--):(P(a,e),n=a,h--)}}var v=(o+u)/2,y=(l+c)/2,m=0;for(h=0;h<f;h++){var x=t[h];x.x-=v,x.y-=y,m=Math.max(m,x.r+Math.sqrt(x.x*x.x+x.y*x.y))}return t.forEach(R),m}(n)):t.r=Math.sqrt(t.value)}function V(t,n,e){var r=t.r+e.r,a=n.x-t.x,i=n.y-t.y;if(r&&(a||i)){var o=n.r+e.r,u=Math.sqrt(a*a+i*i),l=Math.max(-1,Math.min(1,(r*r+u*u-o*o)/(2*r*u))),c=Math.acos(l),f=l*(r/=u),s=Math.sin(c)*r;e.x=t.x+f*a+s*i,e.y=t.y+f*i-s*a}else e.x=t.x+r,e.y=t.y}function j(t,n){return t.parent==n.parent?1:2}function C(t){return t.children?t.children[0]:t._tree.thread}function E(t){return t.children?t.children[t.children.length-1]:t._tree.thread}function I(t,n){var e=t.children;if(e)for(var r,a=e.length,i=-1;++i<a;)n(r=I(e[i],n),t)>0&&(t=r);return t}function D(t,n){return t.x-n.x}function H(t,n){return n.x-t.x}function O(t,n){return t.depth-n.depth}function Z(t,n){!function t(e,r){var a=e.children;if(a)for(var i,o=null,u=-1,l=a.length;++u<l;)t(i=a[u],o),o=i;n(e,r)}(t,null)}function B(t,n,e){t=t._tree;var r=e/((n=n._tree).number-t.number);t.change+=r,n.change-=r,n.shift+=e,n.prelim+=e,n.mod+=e}function X(t,n,e){return t._tree.ancestor.parent==n.parent?t._tree.ancestor:e}function $(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function G(t,n){var e=t.x+n[3],r=t.y+n[0],a=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return a<0&&(e+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:e,y:r,dx:a,dy:i}}d3.layout.pack=function(){var t=d3.layout.hierarchy().sort(S),n=[1,1];function e(e,r){var a=t.call(this,e,r),i=a[0];i.x=0,i.y=0,T(i);var o=n[0],u=n[1];return function t(n,e,r,a){var i=n.children;n.x=e+=a*n.x;n.y=r+=a*n.y;n.r*=a;if(i)for(var o=-1,u=i.length;++o<u;)t(i[o],e,r,a)}(i,o/2,u/2,1/Math.max(2*i.r/o,2*i.r/u)),a}return e.size=function(t){return arguments.length?(n=t,e):n},M(e,t)},d3.layout.cluster=function(){var t=d3.layout.hierarchy().sort(null).value(null),n=j,e=[1,1];function r(r,a){var i,o=t.call(this,r,a),u=o[0],l=0;Z(u,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}(e),t.y=function(t){return 1+d3.max(t,function(t){return t.y})}(e)):(t.x=i?l+=n(t,i):0,t.y=0,i=t)});var c=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(u),f=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(u),s=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return Z(u,function(t){t.x=(t.x-s)/(h-s)*e[0],t.y=(1-t.y/u.y)*e[1]}),o}return r.separation=function(t){return arguments.length?(n=t,r):n},r.size=function(t){return arguments.length?(e=t,r):e},M(r,t)},d3.layout.tree=function(){var t=d3.layout.hierarchy().sort(null).value(null),n=j,e=[1,1];function r(r,a){var i=t.call(this,r,a),o=i[0];function u(t,e,r){if(e){for(var a,i=t,o=t,u=e,l=t.parent.children[0],c=i._tree.mod,f=o._tree.mod,s=u._tree.mod,h=l._tree.mod;u=E(u),i=C(i),u&&i;)l=C(l),(o=E(o))._tree.ancestor=t,(a=u._tree.prelim+s-i._tree.prelim-c+n(u,i))>0&&(B(X(u,t,r),t,a),c+=a,f+=a),s+=u._tree.mod,c+=i._tree.mod,h+=l._tree.mod,f+=o._tree.mod;u&&!E(o)&&(o._tree.thread=u,o._tree.mod+=s-f),i&&!C(l)&&(l._tree.thread=i,l._tree.mod+=c-h,r=t)}return r}Z(o,function(t,n){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:n?n._tree.number+1:0}}),function t(e,r){var a=e.children,i=e._tree;if(a&&(o=a.length)){for(var o,l,c,f=a[0],s=f,h=-1;++h<o;)t(c=a[h],l),s=u(c,l,s),l=c;!function(t){for(var n,e=0,r=0,a=t.children,i=a.length;--i>=0;)(n=a[i]._tree).prelim+=e,n.mod+=e,e+=n.shift+(r+=n.change)}(e);var d=.5*(f._tree.prelim+c._tree.prelim);r?(i.prelim=r._tree.prelim+n(e,r),i.mod=i.prelim-d):i.prelim=d}else r&&(i.prelim=r._tree.prelim+n(e,r))}(o),function t(n,e){n.x=n._tree.prelim+e;var r=n.children;if(r){var a=-1,i=r.length;for(e+=n._tree.mod;++a<i;)t(r[a],e)}}(o,-o._tree.prelim);var l=I(o,H),c=I(o,D),f=I(o,O),s=l.x-n(l,c)/2,h=c.x+n(c,l)/2,d=f.depth||1;return Z(o,function(t){t.x=(t.x-s)/(h-s)*e[0],t.y=t.depth/d*e[1],delete t._tree}),i}return r.separation=function(t){return arguments.length?(n=t,r):n},r.size=function(t){return arguments.length?(e=t,r):e},M(r,t)},d3.layout.treemap=function(){var t,n=d3.layout.hierarchy(),e=Math.round,r=[1,1],a=null,i=$,o=!1,u=.5*(1+Math.sqrt(5));function l(t,n){for(var e,r,a=-1,i=t.length;++a<i;)r=(e=t[a]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function c(t){if(t.children){var n,e,r,a=i(t),o=[],u=t.children.slice(),f=1/0,d=Math.min(a.dx,a.dy);for(l(u,a.dx*a.dy/t.value),o.area=0;(r=u.length)>0;)o.push(n=u[r-1]),o.area+=n.area,(e=s(o,d))<=f?(u.pop(),f=e):(o.area-=o.pop().area,h(o,d,a,!1),d=Math.min(a.dx,a.dy),o.length=o.area=0,f=1/0);o.length&&(h(o,d,a,!0),o.length=o.area=0),t.children.forEach(c)}}function f(t){if(t.children){var n,e=i(t),r=t.children.slice(),a=[];for(l(r,e.dx*e.dy/t.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(h(a,n.z?e.dx:e.dy,e,!r.length),a.length=a.area=0);t.children.forEach(f)}}function s(t,n){for(var e,r=t.area,a=0,i=1/0,o=-1,l=t.length;++o<l;)(e=t[o].area)&&(e<i&&(i=e),e>a&&(a=e));return n*=n,(r*=r)?Math.max(n*a*u/r,r/(n*i*u)):1/0}function h(t,n,r,a){var i,o=-1,u=t.length,l=r.x,c=r.y,f=n?e(t.area/n):0;if(n==r.dx){for((a||f>r.dy)&&(f=f?r.dy:0);++o<u;)(i=t[o]).x=l,i.y=c,i.dy=f,l+=i.dx=f?e(i.area/f):0;i.z=!0,i.dx+=r.x+r.dx-l,r.y+=f,r.dy-=f}else{for((a||f>r.dx)&&(f=f?r.dx:0);++o<u;)(i=t[o]).x=l,i.y=c,i.dx=f,c+=i.dy=f?e(i.area/f):0;i.z=!1,i.dy+=r.y+r.dy-c,r.x+=f,r.dx-=f}}function d(e){var a=t||n(e),i=a[0];return i.x=0,i.y=0,i.dx=r[0],i.dy=r[1],t&&n.revalue(i),l([i],i.dx*i.dy/i.value),(t?f:c)(i),o&&(t=a),a}return d.size=function(t){return arguments.length?(r=t,d):r},d.padding=function(t){if(!arguments.length)return a;function n(n){return G(n,t)}var e;return i=null==(a=t)?$:"function"==(e=typeof t)?function(n){var e=t.call(d,n,n.depth);return null==e?$(n):G(n,"number"==typeof e?[e,e,e,e]:e)}:"number"===e?(t=[t,t,t,t],n):n,d},d.round=function(t){return arguments.length?(e=t?Math.round:Number,d):e!=Number},d.sticky=function(n){return arguments.length?(o=n,t=null,d):o},d.ratio=function(t){return arguments.length?(u=t,d):u},M(d,n)}}();var chord=d3.layout.chord().padding(.05).sortSubgroups(d3.descending).matrix([[11975,5871,8916,2868],[1951,10048,2060,6171],[8010,16145,8090,8045],[1013,990,940,6907]]),w=600,h=600,r0=.41*Math.min(w,h),r1=1.1*r0,fill=d3.scale.ordinal().domain(d3.range(4)).range(["#000000","#FFDD89","#957244","#F26223"]),svg=d3.select("#chart").append("svg:svg").attr("width",w).attr("height",h).append("svg:g").attr("transform","translate("+w/2+","+h/2+")");svg.append("svg:g").selectAll("path").data(chord.groups).enter().append("svg:path").style("fill",function(t){return fill(t.index)}).style("stroke",function(t){return fill(t.index)}).attr("d",d3.svg.arc().innerRadius(r0).outerRadius(r1)).on("mouseover",fade(.1)).on("mouseout",fade(1));var ticks=svg.append("svg:g").selectAll("g").data(chord.groups).enter().append("svg:g").selectAll("g").data(groupTicks).enter().append("svg:g").attr("transform",function(t){return"rotate("+(180*t.angle/Math.PI-90)+")translate("+r1+",0)"});function groupTicks(t){var n=(t.endAngle-t.startAngle)/t.value;return d3.range(0,t.value,1e3).map(function(e,r){return{angle:e*n+t.startAngle,label:r%5?null:e/1e3+"k"}})}function fade(t){return function(n,e){svg.selectAll("g.chord path").filter(function(t){return t.source.index!=e&&t.target.index!=e}).transition().style("opacity",t)}}ticks.append("svg:line").attr("x1",1).attr("y1",0).attr("x2",5).attr("y2",0).style("stroke","#000"),ticks.append("svg:text").attr("x",8).attr("dy",".35em").attr("text-anchor",function(t){return t.angle>Math.PI?"end":null}).attr("transform",function(t){return t.angle>Math.PI?"rotate(180)translate(-16)":null}).text(function(t){return t.label}),svg.append("svg:g").attr("class","chord").selectAll("path").data(chord.chords).enter().append("svg:path").style("fill",function(t){return fill(t.target.index)}).attr("d",d3.svg.chord().radius(r0)).style("opacity",1);